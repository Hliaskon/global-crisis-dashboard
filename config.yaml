windows:
  zscore_lookback_weeks: 260   # ~5 years of weekly points
  smoothing_ma_weeks: 13       # 3M MA before Z
  three_month_weeks: 13
  persistence_weeks: 9         # need ~2 months of weekly confirmations


zscore:
  method: standard             # or: robust


thresholds:
  composite_watch: 1.0
  composite_alert: 2.0
  yellow_delta: 0.3
  red_delta: 0.7
  red_level: 1.0

breadth:
  enable: true
  total_weight: 0.12           # 12% total to breadth (not 64%)
  share_level_vs_mom: [0.5, 0.5]
  cli_level_threshold: 100.0

# Core indicators (you can tweak their weights; script normalizes to 100% anyway)
indicators_core:
  - { label: "US HY OAS (bps)",            file: "hy_credit_spread.csv",   bad_when: high, weight: 0.25 }
  - { label: "US Yield Curve 10Y–3M (bps)",file: "yield_curve_10y_3m.csv", bad_when: low,  weight: 0.10 }
  - { label: "US Unemployment Rate (%)",   file: "unemployment_rate.csv",  bad_when: high, weight: 0.10 }

# Add more (D) as you onboard data files:
# indicators_custom:
#   - { label: "Brent spot (USD/bbl)", file: "brent_spot_fred.csv", bad_when: high, weight: 0.10 }
#   - { label: "S&P 500 (price)",      file: "sp500_fred.csv",      bad_when: low,  weight: 0.10 }
#   - { label: "VIX",                  file: "vix.csv",             bad_when: high, weight: 0.08 }
#   - { label: "MOVE",                 file: "move.csv",            bad_when: high, weight: 0.08 }
#   - { label: "Copper/Gold ratio",    file: "copper_gold.csv",     bad_when: low,  weight: 0.08 }
#   - { label: "ISM New Orders - Inventories", file: "ism_no_minus_inv.csv", bad_when: low, weight: 0.10 }

# Keep your existing 'countries:' section (used for country cards and CLI breadth)
# countries:
#   - { name: "Germany", cli_label: "OECD Germany CLI (amplitude adj., SA)", fx_label: "USD per EUR (ECB)", fx_source: "eur_usd_ecb.csv" }
#   ...


# Default weights per country (CLI vs FX)
weights:
  default:
    cli: 0.60
    fx: 0.40

# What to show in the main "US + ECB" table

indicators:
  table_us_ecb:
    - "US Yield Curve 10Y–3M (bps)"
    - "US Unemployment Rate (%)"
    - "US HY OAS (bps)"
    - "USD per EUR (ECB)"
    - "Gold (LBMA, USD/oz)"
    - "Brent crude (USD/bbl)"
    - "S&P 500 index (close)"
    - "Policy rate – United States (BIS)"
    - "10Y yield – United States (OECD)"

# Countries (each has CLI + an FX)
countries:
  - name: China
    oecd_loc: CHN
    cli_label: "OECD China CLI (amplitude adj., SA)"
    fx_label:  "USD/CNY (derived, ECB)"
    fx_source: usd_cny_ecb.csv
  - name: Japan
    oecd_loc: JPN
    cli_label: "OECD Japan CLI (amplitude adj., SA)"
    fx_label:  "USD/JPY (derived, ECB)"
    fx_source: usd_jpy_ecb.csv
  - name: Germany
    oecd_loc: DEU
    cli_label: "OECD Germany CLI (amplitude adj., SA)"
    fx_label:  "USD per EUR (ECB)"          # Germany uses EUR
    fx_source: eur_usd_ecb.csv
  - name: France
    oecd_loc: FRA
    cli_label: "OECD France CLI (amplitude adj., SA)"
    fx_label:  "USD per EUR (ECB)"          # France uses EUR
    fx_source: eur_usd_ecb.csv
  - name: Italy
    oecd_loc: ITA
    cli_label: "OECD Italy CLI (amplitude adj., SA)"
    fx_label:  "USD per EUR (ECB)"          # Italy uses EUR
    fx_source: eur_usd_ecb.csv
  - name: United Kingdom
    oecd_loc: GBR
    cli_label: "OECD UK CLI (amplitude adj., SA)"
    fx_label:  "USD/GBP (derived, ECB)"
    fx_source: usd_gbp_ecb.csv
  - name: Canada
    oecd_loc: CAN
    cli_label: "OECD Canada CLI (amplitude adj., SA)"
    fx_label:  "USD/CAD (derived, ECB)"
    fx_source: usd_cad_ecb.csv
  - name: India
    oecd_loc: IND
    cli_label: "OECD India CLI (amplitude adj., SA)"
    fx_label:  "USD/INR (derived, ECB)"
    fx_source: usd_inr_ecb.csv
  - name: Russia
    oecd_loc: RUS
    cli_label: "OECD Russia CLI (amplitude adj., SA)"
    fx_label:  "USD/RUB (derived, ECB)"
    fx_source: usd_rub_ecb.csv
    
# ---------- BREADTH (limits over-weighting of many CLIs) ----------
breadth:
  enable: true
  total_weight: 0.12            # 12% total allocated to breadth
  share_level_vs_mom: [0.5, 0.5]# 6% to level breadth + 6% to momentum breadth
  cli_level_threshold: 100.0    # OECD CLI below 100 = below trend

# ---------- ADDITIONAL INDICATORS (safe: skipped if file not found) ----------
# We will create these CSVs in next steps; until then they are ignored.
indicators_custom:
  # Credit / Stress
  - { label: "US IG OAS (bps)",           file: "ig_oas.csv",          bad_when: high, weight: 0.08 }
  - { label: "Chicago NFCI (std)",        file: "chicago_nfci.csv",    bad_when: high, weight: 0.06 }   # (optional; we may add later)
  # Commodities
  - { label: "Brent Spot (USD/bbl)",      file: "brent_spot_fred.csv", bad_when: high, weight: 0.06 }   # you already added Brent updater earlier
  - { label: "Gold (USD/oz, IMF)",        file: "gold_imf.csv",        bad_when: high, weight: 0.05 }   # to add later
  - { label: "Copper (USD/ton, IMF)",     file: "copper_imf.csv",      bad_when: low,  weight: 0.05 }   # to add later
  - { label: "Baltic Dry Index",          file: "bdi_stooq.csv",       bad_when: low,  weight: 0.04 }   # to add later
  # Inflation expectations (US)
  - { label: "US 10y Breakeven",          file: "t10yie.csv",          bad_when: high, weight: 0.05 }   # to add later

# ---------- OPPORTUNITY UNIVERSE (for later HTML cards & alerts) ----------
universe:
  equities:
    US:  [ "SPY", "VTV", "QUAL" ]
    JP:  [ "EWJ" ]
    DE:  [ "EWG" ]
    FR:  [ "EWQ" ]
    IT:  [ "EWI" ]
    UK:  [ "EWU" ]
    CA:  [ "EWC" ]
    IN:  [ "INDA" ]
    RU:  [ "IMOEX.ME" ]  # index-only view; trading constraints apply
  bonds_nominal:
    US:  [ "IEF", "TLT" ]
    JP:  [ ]
    DE:  [ ]
    FR:  [ ]
    IT:  [ ]
    UK:  [ ]
    CA:  [ "XGB.TO" ]
    IN:  [ ]
    RU:  [ ]
  commodities:
    Global: [ "GLD", "USO", "DBC" ]
  fx_hedges:
    Global: [ "UUP", "FXY" ]

